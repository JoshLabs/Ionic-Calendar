<div>
    <ion-slide-box class="monthview-slide" on-slide-changed="slideChanged($index)" does-continue="true"
                   show-pager="false" delegate-handle="monthview-slide">
        <ion-slide ng-repeat="view in views track by $index">
            <table ng-if="$index===currentViewIndex" class="table table-bordered table-fixed monthview-datetable">
                <thead>
                <tr>
                    <th ng-repeat="day in view.dates.slice(0,7) track by day.date">
                        <small>{{::day.date | date: formatDayHeader}}</small>
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td ng-click="select(view.dates[0].date, view.dates[0].events)"
                        ng-class="getHighlightClass(view.dates[0])">
                        <span>{{view.dates[0].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[1].date, view.dates[1].events)"
                        ng-class="getHighlightClass(view.dates[1])"><span>{{view.dates[1].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[2].date, view.dates[2].events)"
                        ng-class="getHighlightClass(view.dates[2])"><span>{{view.dates[2].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[3].date, view.dates[3].events)"
                        ng-class="getHighlightClass(view.dates[3])"><span>{{view.dates[3].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[4].date, view.dates[4].events)"
                        ng-class="getHighlightClass(view.dates[4])"><span>{{view.dates[4].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[5].date, view.dates[5].events)"
                        ng-class="getHighlightClass(view.dates[5])"><span>{{view.dates[5].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[6].date, view.dates[6].events)"
                        ng-class="getHighlightClass(view.dates[6])"><span>{{view.dates[6].label}}</span>
                    </td>
                </tr>
                <tr>
                    <td ng-click="select(view.dates[7].date, view.dates[7].events)"
                        ng-class="getHighlightClass(view.dates[7])"><span>{{view.dates[7].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[8].date, view.dates[8].events)"
                        ng-class="getHighlightClass(view.dates[8])"><span>{{view.dates[8].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[9].date, view.dates[9].events)"
                        ng-class="getHighlightClass(view.dates[9])"><span>{{view.dates[9].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[10].date, view.dates[10].events)"
                        ng-class="getHighlightClass(view.dates[10])"><span>{{view.dates[10].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[11].date, view.dates[11].events)"
                        ng-class="getHighlightClass(view.dates[11])"><span>{{view.dates[11].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[12].date, view.dates[12].events)"
                        ng-class="getHighlightClass(view.dates[12])"><span>{{view.dates[12].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[13].date, view.dates[13].events)"
                        ng-class="getHighlightClass(view.dates[13])"><span>{{view.dates[13].label}}</span>
                    </td>
                </tr>
                <tr>
                    <td ng-click="select(view.dates[14].date, view.dates[14].events)"
                        ng-class="getHighlightClass(view.dates[14])"><span>{{view.dates[14].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[15].date, view.dates[15].events)"
                        ng-class="getHighlightClass(view.dates[15])"><span>{{view.dates[15].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[16].date, view.dates[16].events)"
                        ng-class="getHighlightClass(view.dates[16])"><span>{{view.dates[16].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[17].date, view.dates[17].events)"
                        ng-class="getHighlightClass(view.dates[17])"><span>{{view.dates[17].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[18].date, view.dates[18].events)"
                        ng-class="getHighlightClass(view.dates[18])"><span>{{view.dates[18].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[19].date, view.dates[19].events)"
                        ng-class="getHighlightClass(view.dates[19])"><span>{{view.dates[19].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[20].date, view.dates[20].events)"
                        ng-class="getHighlightClass(view.dates[20])"><span>{{view.dates[20].label}}</span>
                    </td>
                </tr>
                <tr>
                    <td ng-click="select(view.dates[21].date, view.dates[21].events)"
                        ng-class="getHighlightClass(view.dates[21])"><span>{{view.dates[21].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[22].date, view.dates[22].events)"
                        ng-class="getHighlightClass(view.dates[22])"><span>{{view.dates[22].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[23].date, view.dates[23].events)"
                        ng-class="getHighlightClass(view.dates[23])"><span>{{view.dates[23].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[24].date, view.dates[24].events)"
                        ng-class="getHighlightClass(view.dates[24])"><span>{{view.dates[24].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[25].date, view.dates[25].events)"
                        ng-class="getHighlightClass(view.dates[25])"><span>{{view.dates[25].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[26].date, view.dates[26].events)"
                        ng-class="getHighlightClass(view.dates[26])"><span>{{view.dates[26].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[27].date, view.dates[27].events)"
                        ng-class="getHighlightClass(view.dates[27])"><span>{{view.dates[27].label}}</span>
                    </td>
                </tr>
                <tr>
                    <td ng-click="select(view.dates[28].date, view.dates[28].events)"
                        ng-class="getHighlightClass(view.dates[28])"><span>{{view.dates[28].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[29].date, view.dates[29].events)"
                        ng-class="getHighlightClass(view.dates[29])"><span>{{view.dates[29].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[30].date, view.dates[30].events)"
                        ng-class="getHighlightClass(view.dates[30])"><span>{{view.dates[30].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[31].date, view.dates[31].events)"
                        ng-class="getHighlightClass(view.dates[31])"><span>{{view.dates[31].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[32].date, view.dates[32].events)"
                        ng-class="getHighlightClass(view.dates[32])"><span>{{view.dates[32].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[33].date, view.dates[33].events)"
                        ng-class="getHighlightClass(view.dates[33])"><span>{{view.dates[33].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[34].date, view.dates[34].events)"
                        ng-class="getHighlightClass(view.dates[34])"><span>{{view.dates[34].label}}</span>
                    </td>
                </tr>
                <tr>
                    <td ng-click="select(view.dates[35].date, view.dates[35].events)"
                        ng-class="getHighlightClass(view.dates[35])"><span>{{view.dates[35].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[36].date, view.dates[36].events)"
                        ng-class="getHighlightClass(view.dates[36])"><span>{{view.dates[36].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[37].date, view.dates[37].events)"
                        ng-class="getHighlightClass(view.dates[37])"><span>{{view.dates[37].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[38].date, view.dates[38].events)"
                        ng-class="getHighlightClass(view.dates[38])"><span>{{view.dates[38].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[39].date, view.dates[39].events)"
                        ng-class="getHighlightClass(view.dates[39])"><span>{{view.dates[39].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[40].date, view.dates[40].events)"
                        ng-class="getHighlightClass(view.dates[40])"><span>{{view.dates[40].label}}</span>
                    </td>
                    <td ng-click="select(view.dates[41].date, view.dates[41].events)"
                        ng-class="getHighlightClass(view.dates[41])"><span>{{view.dates[41].label}}</span>
                    </td>
                </tr>
                </tbody>
            </table>
            <table ng-if="$index!==currentViewIndex" class="table table-bordered table-fixed monthview-datetable">
                <thead>
                <tr class="text-center">
                    <th ng-repeat="day in view.dates.slice(0,7) track by day.date">
                        <small>{{::day.date | date: formatDayHeader}}</small>
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td><span>{{view.dates[0].label}}</span></td>
                    <td><span>{{view.dates[1].label}}</span></td>
                    <td><span>{{view.dates[2].label}}</span></td>
                    <td><span>{{view.dates[3].label}}</span></td>
                    <td><span>{{view.dates[4].label}}</span></td>
                    <td><span>{{view.dates[5].label}}</span></td>
                    <td><span>{{view.dates[6].label}}</span></td>
                </tr>
                <tr>
                    <td><span>{{view.dates[7].label}}</span></td>
                    <td><span>{{view.dates[8].label}}</span></td>
                    <td><span>{{view.dates[9].label}}</span></td>
                    <td><span>{{view.dates[10].label}}</span></td>
                    <td><span>{{view.dates[11].label}}</span></td>
                    <td><span>{{view.dates[12].label}}</span></td>
                    <td><span>{{view.dates[13].label}}</span></td>
                </tr>
                <tr>
                    <td><span>{{view.dates[14].label}}</span></td>
                    <td><span>{{view.dates[15].label}}</span></td>
                    <td><span>{{view.dates[16].label}}</span></td>
                    <td><span>{{view.dates[17].label}}</span></td>
                    <td><span>{{view.dates[18].label}}</span></td>
                    <td><span>{{view.dates[19].label}}</span></td>
                    <td><span>{{view.dates[20].label}}</span></td>
                </tr>
                <tr>
                    <td><span>{{view.dates[21].label}}</span></td>
                    <td><span>{{view.dates[22].label}}</span></td>
                    <td><span>{{view.dates[23].label}}</span></td>
                    <td><span>{{view.dates[24].label}}</span></td>
                    <td><span>{{view.dates[25].label}}</span></td>
                    <td><span>{{view.dates[26].label}}</span></td>
                    <td><span>{{view.dates[27].label}}</span></td>
                </tr>
                <tr>
                    <td><span>{{view.dates[28].label}}</span></td>
                    <td><span>{{view.dates[29].label}}</span></td>
                    <td><span>{{view.dates[30].label}}</span></td>
                    <td><span>{{view.dates[31].label}}</span></td>
                    <td><span>{{view.dates[32].label}}</span></td>
                    <td><span>{{view.dates[33].label}}</span></td>
                    <td><span>{{view.dates[34].label}}</span></td>
                </tr>
                <tr>
                    <td><span>{{view.dates[35].label}}</span></td>
                    <td><span>{{view.dates[36].label}}</span></td>
                    <td><span>{{view.dates[37].label}}</span></td>
                    <td><span>{{view.dates[38].label}}</span></td>
                    <td><span>{{view.dates[39].label}}</span></td>
                    <td><span>{{view.dates[40].label}}</span></td>
                    <td><span>{{view.dates[41].label}}</span></td>
                </tr>
                </tbody>
            </table>
        </ion-slide>
    </ion-slide-box>
    <ion-content class="event-detail-container" has-bouncing="false" ng-show="showEventDetail" overflow-scroll="false">
        <table class="table table-bordered table-striped table-fixed event-detail-table">
            <tr ng-repeat="event in selectedDate.events" ng-click="eventSelected({event:event})">
                <td ng-if="!event.allDay" class="monthview-eventdetail-timecolumn">{{::event.startTime|date: 'HH:mm'}}
                    -
                    {{::event.endTime|date: 'HH:mm'}}
                </td>
                <td ng-if="event.allDay" class="monthview-eventdetail-timecolumn">All day</td>
                <td class="event-detail">{{::event.title}}</td>
            </tr>
            <tr ng-if="!selectedDate.events">
                <td class="no-event-label" ng-bind="::noEventsLabel"></td>
            </tr>
        </table>
    </ion-content>
</div>
